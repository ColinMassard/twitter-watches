"use strict";
self["webpackHotUpdateboilerplate_prismic"]("main",{

/***/ "./app/components/Canvas/Home/index.js":
/*!*********************************************!*\
  !*** ./app/components/Canvas/Home/index.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ogl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ogl */ "./node_modules/ogl/src/core/Transform.js");
/* harmony import */ var ogl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ogl */ "./node_modules/ogl/src/extras/Plane.js");
/* harmony import */ var gsap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! gsap */ "./node_modules/gsap/index.js");
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/map */ "./node_modules/lodash/map.js");
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Media__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Media */ "./app/components/Canvas/Home/Media.js");




/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (class {
  constructor({
    gl,
    scene,
    sizes
  }) {
    this.gl = gl;
    this.scene = scene;
    this.sizes = sizes;
    this.group = new ogl__WEBPACK_IMPORTED_MODULE_2__.Transform();
    this.galleryElement = document.querySelector('.home__gallery');
    this.mediasElements = document.querySelectorAll('.home__gallery__media__image');
    this.slotRoll = document.querySelector('.home__button');
    this.buttonRoll = document.querySelector('.home__button button');
    this.homeResult = document.querySelector('.home__result');
    this.nameList = document.querySelector('.watch__name-list');
    this.imageList = document.querySelector('.watch__image-list');
    this.tweetButton = document.querySelector('.home__tweet');
    this.speedAutoScroll = 2;
    this.x = {
      current: 0,
      target: 0,
      lerp: 0.1
    };
    this.y = {
      current: 0,
      target: 0,
      lerp: 0.1
    };
    this.scrollCurrent = {
      x: 0,
      y: 0
    };
    this.scroll = {
      x: 0,
      y: 0
    };
    this.speed = {
      current: 0,
      target: 0,
      lerp: 0.1
    };
    this.createGeometry();
    this.createGallery();
    this.onResize({
      sizes: this.sizes
    });
    this.createButtonRoll(this.slotRoll);
    this.group.setParent(this.scene);
    this.show();
  }
  createGeometry() {
    this.geometry = new ogl__WEBPACK_IMPORTED_MODULE_3__.Plane(this.gl, {
      heightSegments: 20,
      widthSegments: 20
    });
  }
  createGallery() {
    this.medias = lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(this.mediasElements, (element, index) => {
      return new _Media__WEBPACK_IMPORTED_MODULE_1__["default"]({
        element,
        geometry: this.geometry,
        index,
        gl: this.gl,
        scene: this.group,
        sizes: this.sizes
      });
    });
  }
  createButtonRoll(buttonRoll) {
    let mediaAssets = [];
    let lastY = 0;
    buttonRoll.addEventListener('click', _ => {
      /****
       * RESETS
       * ***/
      this.nameList.innerHTML = '';
      this.imageList.innerHTML = '';
      this.y.target = 0;
      mediaAssets = [];
      this.speedAutoScroll = 0;

      /****
       * ANIMATIONS
       * ***/
      lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(this.medias, (media, index) => {
        mediaAssets[index] = [media.bounds.top, media.element.alt, media.element.currentSrc, media.bounds.height];
      });
      this.y.target = Math.round(Math.random() * 10) * mediaAssets[0][3];
      while (this.y.target === lastY) {
        this.y.target = Math.round(Math.random() * 10) * mediaAssets[0][3];
      }
      const target = mediaAssets[mediaAssets.length - 1][0] - this.y.target + window.innerHeight / 2 + mediaAssets[0][3] / 2;
      mediaAssets.sort(function (a, b) {
        return Math.abs(target - a[0]) - Math.abs(target - b[0]);
      });
      for (let i = 0; i < 4; i++) {
        const newName = document.createElement('li');
        newName.innerHTML = mediaAssets[i][1];
        newName.classList = 'text-primary font-medium text-base text-center lg:text-lg';
        this.nameList.appendChild(newName);
        const newImage = document.createElement('img');
        newImage.src = mediaAssets[i][2];
        newImage.classList = 'img-cover';
        this.imageList.appendChild(newImage);
      }
      this.createTweet(this.tweetButton, mediaAssets);
      gsap__WEBPACK_IMPORTED_MODULE_4__["default"].to(this.homeResult, {
        autoAlpha: 1
      });
      lastY = this.y.target;
      this.buttonRoll.innerText = 'Roll again ?';
    });
  }
  createTweet(tweetButton, mediaArray) {
    const newLink = `https://twitter.com/intent/tweet?text=Here%20is%20my%20Watch%20Combo%3A%0a%0a${mediaArray[0][1]}%0a${mediaArray[1][1]}%0a${mediaArray[2][1]}%0a${mediaArray[3][1]}%0aGenerate%20yours%20on%20%20${window.location.href}`;
    tweetButton.setAttribute('href', newLink);
  }

  /****
   * ANIMATIONS
   * ***/
  show() {
    lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(this.medias, media => media.show());
  }
  hide() {
    lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(this.medias, media => media.hide());
  }

  /****
   * EVENTS
   * ***/
  onResize(event) {
    this.galleryBounds = this.galleryElement.getBoundingClientRect();
    this.sizes = event.sizes;
    this.gallerySizes = {
      height: this.galleryBounds.height / window.innerHeight * this.sizes.height,
      width: this.galleryBounds.width / window.innerWidth * this.sizes.width
    };
    this.scroll.x = this.x.target = 0;
    this.scroll.y = this.y.target = 0;
    lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(this.medias, media => media.onResize(event, this.scroll));
    gsap__WEBPACK_IMPORTED_MODULE_4__["default"].to(this.homeResult, {
      autoAlpha: 0
    });
  }
  onTouchDown({
    x,
    y
  }) {}
  onTouchMove({
    x,
    y
  }) {}
  onTouchUp({
    x,
    y
  }) {}
  onWheel({
    pixelX,
    pixelY
  }) {
    // this.x.target += pixelX
    this.y.target += pixelY;
  }

  /****
   * LOOP
   * ***/
  update() {
    this.y.target += this.speedAutoScroll;
    this.speed.current = gsap__WEBPACK_IMPORTED_MODULE_4__["default"].utils.interpolate(this.speed.current, this.speed.target, this.speed.lerp);
    this.x.current = gsap__WEBPACK_IMPORTED_MODULE_4__["default"].utils.interpolate(this.x.current, this.x.target, this.x.lerp);
    this.y.current = gsap__WEBPACK_IMPORTED_MODULE_4__["default"].utils.interpolate(this.y.current, this.y.target, this.y.lerp);
    if (this.scroll.y < this.y.current) {
      this.y.direction = 'top';
    } else if (this.scroll.y > this.y.current) {
      this.y.direction = 'bottom';
    }
    this.scroll.x = this.x.current;
    this.scroll.y = this.y.current;
    lodash_map__WEBPACK_IMPORTED_MODULE_0___default()(this.medias, (media, index) => {
      const offsetY = this.sizes.height * 0.6;
      const scaleY = media.mesh.scale.y / 2;
      if (index % 2 === 0) {
        this.multiplier = -1;
      } else if (index % 2 === 1) {
        this.multiplier = 1;
      }
      media.update(media, this.scroll, this.speed.current, this.multiplier, this.y.direction, this.gallerySizes.height, offsetY, scaleY, this.y);
    });
  }

  /****
   * DESTROY
   * ***/
  destroy() {
    this.scene.removeChild(this.group);
  }
});

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("d51fd643d7357372c918")
/******/ })();
/******/ 
/******/ }
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi43NDY0NTg4NDFjN2JhODM5M2NkMS5ob3QtdXBkYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0M7QUFDZjtBQUVLO0FBRUQ7QUFFM0IsaUVBQWUsTUFBTTtFQUNuQkssV0FBV0EsQ0FBRTtJQUFFQyxFQUFFO0lBQUVDLEtBQUs7SUFBRUM7RUFBTSxDQUFDLEVBQUU7SUFDakMsSUFBSSxDQUFDRixFQUFFLEdBQUdBLEVBQUU7SUFDWixJQUFJLENBQUNDLEtBQUssR0FBR0EsS0FBSztJQUNsQixJQUFJLENBQUNDLEtBQUssR0FBR0EsS0FBSztJQUVsQixJQUFJLENBQUNDLEtBQUssR0FBRyxJQUFJUiwwQ0FBUyxDQUFDLENBQUM7SUFFNUIsSUFBSSxDQUFDUyxjQUFjLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLGdCQUFnQixDQUFDO0lBQzlELElBQUksQ0FBQ0MsY0FBYyxHQUFHRixRQUFRLENBQUNHLGdCQUFnQixDQUFDLDhCQUE4QixDQUFDO0lBQy9FLElBQUksQ0FBQ0MsUUFBUSxHQUFHSixRQUFRLENBQUNDLGFBQWEsQ0FBQyxlQUFlLENBQUM7SUFDdkQsSUFBSSxDQUFDSSxVQUFVLEdBQUdMLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLHNCQUFzQixDQUFDO0lBQ2hFLElBQUksQ0FBQ0ssVUFBVSxHQUFHTixRQUFRLENBQUNDLGFBQWEsQ0FBQyxlQUFlLENBQUM7SUFDekQsSUFBSSxDQUFDTSxRQUFRLEdBQUdQLFFBQVEsQ0FBQ0MsYUFBYSxDQUFDLG1CQUFtQixDQUFDO0lBQzNELElBQUksQ0FBQ08sU0FBUyxHQUFHUixRQUFRLENBQUNDLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQztJQUM3RCxJQUFJLENBQUNRLFdBQVcsR0FBR1QsUUFBUSxDQUFDQyxhQUFhLENBQUMsY0FBYyxDQUFDO0lBRXpELElBQUksQ0FBQ1MsZUFBZSxHQUFHLENBQUM7SUFFeEIsSUFBSSxDQUFDQyxDQUFDLEdBQUc7TUFDUEMsT0FBTyxFQUFFLENB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Q0FBQ0MsS0FBSyxDQUFDTixPQUFPLEVBQUUsSUFBSSxDQUFDNkUsVUFBVSxFQUFFLElBQUksQ0FBQzFFLENBQUMsQ0FBQ3FFLFNBQVMsRUFBRSxJQUFJLENBQUNaLFlBQVksQ0FBQy9CLE1BQU0sRUFBRTRDLE9BQU8sRUFBRUMsTUFBTSxFQUFFLElBQUksQ0FBQ3ZFLENBQUMsQ0FBQztJQUM1SSxDQUFDLENBQUM7RUFDSjs7RUFFQTtBQUNGO0FBQ0E7RUFDRTJFLE9BQU9BLENBQUEsRUFBSTtJQUNULElBQUksQ0FBQzlGLEtBQUssQ0FBQytGLFdBQVcsQ0FBQyxJQUFJLENBQUM3RixLQUFLLENBQUM7RUFDcEM7QUFDRjs7Ozs7Ozs7VUMzT0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ib2lsZXJwbGF0ZS1wcmlzbWljLy4vYXBwL2NvbXBvbmVudHMvQ2FudmFzL0hvbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYm9pbGVycGxhdGUtcHJpc21pYy93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGxhbmUsIFRyYW5zZm9ybSB9IGZyb20gJ29nbCdcclxuaW1wb3J0IEdTQVAgZnJvbSAnZ3NhcCdcclxuXHJcbmltcG9ydCBtYXAgZnJvbSAnbG9kYXNoL21hcCdcclxuXHJcbmltcG9ydCBNZWRpYSBmcm9tICcuL01lZGlhJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3Mge1xyXG4gIGNvbnN0cnVjdG9yICh7IGdsLCBzY2VuZSwgc2l6ZXMgfSkge1xyXG4gICAgdGhpcy5nbCA9IGdsXHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmVcclxuICAgIHRoaXMuc2l6ZXMgPSBzaXplc1xyXG5cclxuICAgIHRoaXMuZ3JvdXAgPSBuZXcgVHJhbnNmb3JtKClcclxuXHJcbiAgICB0aGlzLmdhbGxlcnlFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvbWVfX2dhbGxlcnknKVxyXG4gICAgdGhpcy5tZWRpYXNFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ob21lX19nYWxsZXJ5X19tZWRpYV9faW1hZ2UnKVxyXG4gICAgdGhpcy5zbG90Um9sbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob21lX19idXR0b24nKVxyXG4gICAgdGhpcy5idXR0b25Sb2xsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvbWVfX2J1dHRvbiBidXR0b24nKVxyXG4gICAgdGhpcy5ob21lUmVzdWx0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvbWVfX3Jlc3VsdCcpXHJcbiAgICB0aGlzLm5hbWVMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndhdGNoX19uYW1lLWxpc3QnKVxyXG4gICAgdGhpcy5pbWFnZUxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2F0Y2hfX2ltYWdlLWxpc3QnKVxyXG4gICAgdGhpcy50d2VldEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob21lX190d2VldCcpXHJcblxyXG4gICAgdGhpcy5zcGVlZEF1dG9TY3JvbGwgPSAyXHJcblxyXG4gICAgdGhpcy54ID0ge1xyXG4gICAgICBjdXJyZW50OiAwLFxyXG4gICAgICB0YXJnZXQ6IDAsXHJcbiAgICAgIGxlcnA6IDAuMVxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMueSA9IHtcclxuICAgICAgY3VycmVudDogMCxcclxuICAgICAgdGFyZ2V0OiAwLFxyXG4gICAgICBsZXJwOiAwLjFcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNjcm9sbEN1cnJlbnQgPSB7XHJcbiAgICAgIHg6IDAsXHJcbiAgICAgIHk6IDBcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnNjcm9sbCA9IHtcclxuICAgICAgeDogMCxcclxuICAgICAgeTogMFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc3BlZWQgPSB7XHJcbiAgICAgIGN1cnJlbnQ6IDAsXHJcbiAgICAgIHRhcmdldDogMCxcclxuICAgICAgbGVycDogMC4xXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jcmVhdGVHZW9tZXRyeSgpXHJcbiAgICB0aGlzLmNyZWF0ZUdhbGxlcnkoKVxyXG4gICAgdGhpcy5vblJlc2l6ZSh7XHJcbiAgICAgIHNpemVzOiB0aGlzLnNpemVzXHJcbiAgICB9KVxyXG4gICAgdGhpcy5jcmVhdGVCdXR0b25Sb2xsKHRoaXMuc2xvdFJvbGwpXHJcblxyXG4gICAgdGhpcy5ncm91cC5zZXRQYXJlbnQodGhpcy5zY2VuZSlcclxuXHJcbiAgICB0aGlzLnNob3coKVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlR2VvbWV0cnkgKCkge1xyXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBQbGFuZSh0aGlzLmdsLCB7XHJcbiAgICAgIGhlaWdodFNlZ21lbnRzOiAyMCxcclxuICAgICAgd2lkdGhTZWdtZW50czogMjBcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjcmVhdGVHYWxsZXJ5ICgpIHtcclxuICAgIHRoaXMubWVkaWFzID0gbWFwKHRoaXMubWVkaWFzRWxlbWVudHMsIChlbGVtZW50LCBpbmRleCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IE1lZGlhKHtcclxuICAgICAgICBlbGVtZW50LFxyXG4gICAgICAgIGdlb21ldHJ5OiB0aGlzLmdlb21ldHJ5LFxyXG4gICAgICAgIGluZGV4LFxyXG4gICAgICAgIGdsOiB0aGlzLmdsLFxyXG4gICAgICAgIHNjZW5lOiB0aGlzLmdyb3VwLFxyXG4gICAgICAgIHNpemVzOiB0aGlzLnNpemVzXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlQnV0dG9uUm9sbCAoYnV0dG9uUm9sbCkge1xyXG4gICAgbGV0IG1lZGlhQXNzZXRzID0gW11cclxuICAgIGxldCBsYXN0WSA9IDBcclxuXHJcbiAgICBidXR0b25Sb2xsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgXyA9PiB7XHJcbiAgICAgIC8qKioqXHJcbiAgICAgICAqIFJFU0VUU1xyXG4gICAgICAgKiAqKiovXHJcbiAgICAgIHRoaXMubmFtZUxpc3QuaW5uZXJIVE1MID0gJydcclxuICAgICAgdGhpcy5pbWFnZUxpc3QuaW5uZXJIVE1MID0gJydcclxuICAgICAgdGhpcy55LnRhcmdldCA9IDBcclxuICAgICAgbWVkaWFBc3NldHMgPSBbXVxyXG4gICAgICB0aGlzLnNwZWVkQXV0b1Njcm9sbCA9IDBcclxuXHJcbiAgICAgIC8qKioqXHJcbiAgICAgICAqIEFOSU1BVElPTlNcclxuICAgICAgICogKioqL1xyXG4gICAgICBtYXAodGhpcy5tZWRpYXMsIChtZWRpYSwgaW5kZXgpID0+IHtcclxuICAgICAgICBtZWRpYUFzc2V0c1tpbmRleF0gPSBbbWVkaWEuYm91bmRzLnRvcCwgbWVkaWEuZWxlbWVudC5hbHQsIG1lZGlhLmVsZW1lbnQuY3VycmVudFNyYywgbWVkaWEuYm91bmRzLmhlaWdodF1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIHRoaXMueS50YXJnZXQgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMCkgKiBtZWRpYUFzc2V0c1swXVszXVxyXG5cclxuICAgICAgd2hpbGUgKHRoaXMueS50YXJnZXQgPT09IGxhc3RZKSB7XHJcbiAgICAgICAgdGhpcy55LnRhcmdldCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDEwKSAqIG1lZGlhQXNzZXRzWzBdWzNdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRhcmdldCA9IG1lZGlhQXNzZXRzW21lZGlhQXNzZXRzLmxlbmd0aCAtIDFdWzBdIC0gdGhpcy55LnRhcmdldCArICh3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSArIChtZWRpYUFzc2V0c1swXVszXSAvIDIpXHJcblxyXG4gICAgICBtZWRpYUFzc2V0cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRhcmdldCAtIGFbMF0pIC0gTWF0aC5hYnModGFyZ2V0IC0gYlswXSlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgbmV3TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcclxuICAgICAgICBuZXdOYW1lLmlubmVySFRNTCA9IG1lZGlhQXNzZXRzW2ldWzFdXHJcbiAgICAgICAgbmV3TmFtZS5jbGFzc0xpc3QgPSAndGV4dC1wcmltYXJ5IGZvbnQtbWVkaXVtIHRleHQtYmFzZSB0ZXh0LWNlbnRlciBsZzp0ZXh0LWxnJ1xyXG4gICAgICAgIHRoaXMubmFtZUxpc3QuYXBwZW5kQ2hpbGQobmV3TmFtZSlcclxuXHJcbiAgICAgICAgY29uc3QgbmV3SW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxyXG4gICAgICAgIG5ld0ltYWdlLnNyYyA9IG1lZGlhQXNzZXRzW2ldWzJdXHJcbiAgICAgICAgbmV3SW1hZ2UuY2xhc3NMaXN0ID0gJ2ltZy1jb3ZlcidcclxuICAgICAgICB0aGlzLmltYWdlTGlzdC5hcHBlbmRDaGlsZChuZXdJbWFnZSlcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5jcmVhdGVUd2VldCh0aGlzLnR3ZWV0QnV0dG9uLCBtZWRpYUFzc2V0cylcclxuXHJcbiAgICAgIEdTQVAudG8odGhpcy5ob21lUmVzdWx0LCB7XHJcbiAgICAgICAgYXV0b0FscGhhOiAxXHJcbiAgICAgIH0pXHJcbiAgICAgIGxhc3RZID0gdGhpcy55LnRhcmdldFxyXG4gICAgICB0aGlzLmJ1dHRvblJvbGwuaW5uZXJUZXh0ID0gJ1JvbGwgYWdhaW4gPydcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjcmVhdGVUd2VldCAodHdlZXRCdXR0b24sIG1lZGlhQXJyYXkpIHtcclxuICAgIGNvbnN0IG5ld0xpbmsgPSBgaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/dGV4dD1IZXJlJTIwaXMlMjBteSUyMFdhdGNoJTIwQ29tYm8lM0ElMGElMGEke21lZGlhQXJyYXlbMF1bMV19JTBhJHttZWRpYUFycmF5WzFdWzFdfSUwYSR7bWVkaWFBcnJheVsyXVsxXX0lMGEke21lZGlhQXJyYXlbM11bMV19JTBhR2VuZXJhdGUlMjB5b3VycyUyMG9uJTIwJTIwJHt3aW5kb3cubG9jYXRpb24uaHJlZn1gXHJcbiAgICB0d2VldEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBuZXdMaW5rKVxyXG4gIH1cclxuXHJcbiAgLyoqKipcclxuICAgKiBBTklNQVRJT05TXHJcbiAgICogKioqL1xyXG4gIHNob3cgKCkge1xyXG4gICAgbWFwKHRoaXMubWVkaWFzLCBtZWRpYSA9PiBtZWRpYS5zaG93KCkpXHJcbiAgfVxyXG5cclxuICBoaWRlICgpIHtcclxuICAgIG1hcCh0aGlzLm1lZGlhcywgbWVkaWEgPT4gbWVkaWEuaGlkZSgpKVxyXG4gIH1cclxuXHJcbiAgLyoqKipcclxuICAgKiBFVkVOVFNcclxuICAgKiAqKiovXHJcbiAgb25SZXNpemUgKGV2ZW50KSB7XHJcbiAgICB0aGlzLmdhbGxlcnlCb3VuZHMgPSB0aGlzLmdhbGxlcnlFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcblxyXG4gICAgdGhpcy5zaXplcyA9IGV2ZW50LnNpemVzXHJcblxyXG4gICAgdGhpcy5nYWxsZXJ5U2l6ZXMgPSB7XHJcbiAgICAgIGhlaWdodDogdGhpcy5nYWxsZXJ5Qm91bmRzLmhlaWdodCAvIHdpbmRvdy5pbm5lckhlaWdodCAqIHRoaXMuc2l6ZXMuaGVpZ2h0LFxyXG4gICAgICB3aWR0aDogdGhpcy5nYWxsZXJ5Qm91bmRzLndpZHRoIC8gd2luZG93LmlubmVyV2lkdGggKiB0aGlzLnNpemVzLndpZHRoXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zY3JvbGwueCA9IHRoaXMueC50YXJnZXQgPSAwXHJcbiAgICB0aGlzLnNjcm9sbC55ID0gdGhpcy55LnRhcmdldCA9IDBcclxuXHJcbiAgICBtYXAodGhpcy5tZWRpYXMsIG1lZGlhID0+IG1lZGlhLm9uUmVzaXplKGV2ZW50LCB0aGlzLnNjcm9sbCkpXHJcblxyXG4gICAgR1NBUC50byh0aGlzLmhvbWVSZXN1bHQsIHtcclxuICAgICAgYXV0b0FscGhhOiAwXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgb25Ub3VjaERvd24gKHsgeCwgeSB9KSB7XHJcbiAgfVxyXG5cclxuICBvblRvdWNoTW92ZSAoeyB4LCB5IH0pIHtcclxuXHJcbiAgfVxyXG5cclxuICBvblRvdWNoVXAgKHsgeCwgeSB9KSB7XHJcblxyXG4gIH1cclxuXHJcbiAgb25XaGVlbCAoeyBwaXhlbFgsIHBpeGVsWSB9KSB7XHJcbiAgICAvLyB0aGlzLngudGFyZ2V0ICs9IHBpeGVsWFxyXG4gICAgdGhpcy55LnRhcmdldCArPSBwaXhlbFlcclxuICB9XHJcblxyXG4gIC8qKioqXHJcbiAgICogTE9PUFxyXG4gICAqICoqKi9cclxuICB1cGRhdGUgKCkge1xyXG4gICAgdGhpcy55LnRhcmdldCArPSB0aGlzLnNwZWVkQXV0b1Njcm9sbFxyXG4gICAgdGhpcy5zcGVlZC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnNwZWVkLmN1cnJlbnQsIHRoaXMuc3BlZWQudGFyZ2V0LCB0aGlzLnNwZWVkLmxlcnApXHJcblxyXG4gICAgdGhpcy54LmN1cnJlbnQgPSBHU0FQLnV0aWxzLmludGVycG9sYXRlKHRoaXMueC5jdXJyZW50LCB0aGlzLngudGFyZ2V0LCB0aGlzLngubGVycClcclxuICAgIHRoaXMueS5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnkuY3VycmVudCwgdGhpcy55LnRhcmdldCwgdGhpcy55LmxlcnApXHJcblxyXG4gICAgaWYgKHRoaXMuc2Nyb2xsLnkgPCB0aGlzLnkuY3VycmVudCkge1xyXG4gICAgICB0aGlzLnkuZGlyZWN0aW9uID0gJ3RvcCdcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zY3JvbGwueSA+IHRoaXMueS5jdXJyZW50KSB7XHJcbiAgICAgIHRoaXMueS5kaXJlY3Rpb24gPSAnYm90dG9tJ1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2Nyb2xsLnggPSB0aGlzLnguY3VycmVudFxyXG4gICAgdGhpcy5zY3JvbGwueSA9IHRoaXMueS5jdXJyZW50XHJcblxyXG4gICAgbWFwKHRoaXMubWVkaWFzLCAobWVkaWEsIGluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLnNpemVzLmhlaWdodCAqIDAuNlxyXG4gICAgICBjb25zdCBzY2FsZVkgPSBtZWRpYS5tZXNoLnNjYWxlLnkgLyAyXHJcblxyXG4gICAgICBpZiAoaW5kZXggJSAyID09PSAwKSB7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsaWVyID0gLTFcclxuICAgICAgfSBlbHNlIGlmIChpbmRleCAlIDIgPT09IDEpIHtcclxuICAgICAgICB0aGlzLm11bHRpcGxpZXIgPSAxXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1lZGlhLnVwZGF0ZShtZWRpYSwgdGhpcy5zY3JvbGwsIHRoaXMuc3BlZWQuY3VycmVudCwgdGhpcy5tdWx0aXBsaWVyLCB0aGlzLnkuZGlyZWN0aW9uLCB0aGlzLmdhbGxlcnlTaXplcy5oZWlnaHQsIG9mZnNldFksIHNjYWxlWSwgdGhpcy55KVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIC8qKioqXHJcbiAgICogREVTVFJPWVxyXG4gICAqICoqKi9cclxuICBkZXN0cm95ICgpIHtcclxuICAgIHRoaXMuc2NlbmUucmVtb3ZlQ2hpbGQodGhpcy5ncm91cClcclxuICB9XHJcbn1cclxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5oID0gKCkgPT4gKFwiZDUxZmQ2NDNkNzM1NzM3MmM5MThcIikiXSwibmFtZXMiOlsiUGxhbmUiLCJUcmFuc2Zvcm0iLCJHU0FQIiwibWFwIiwiTWVkaWEiLCJjb25zdHJ1Y3RvciIsImdsIiwic2NlbmUiLCJzaXplcyIsImdyb3VwIiwiZ2FsbGVyeUVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJtZWRpYXNFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzbG90Um9sbCIsImJ1dHRvblJvbGwiLCJob21lUmVzdWx0IiwibmFtZUxpc3QiLCJpbWFnZUxpc3QiLCJ0d2VldEJ1dHRvbiIsInNwZWVkQXV0b1Njcm9sbCIsIngiLCJjdXJyZW50IiwidGFyZ2V0IiwibGVycCIsInkiLCJzY3JvbGxDdXJyZW50Iiwic2Nyb2xsIiwic3BlZWQiLCJjcmVhdGVHZW9tZXRyeSIsImNyZWF0ZUdhbGxlcnkiLCJvblJlc2l6ZSIsImNyZWF0ZUJ1dHRvblJvbGwiLCJzZXRQYXJlbnQiLCJzaG93IiwiZ2VvbWV0cnkiLCJoZWlnaHRTZWdtZW50cyIsIndpZHRoU2VnbWVudHMiLCJtZWRpYXMiLCJlbGVtZW50IiwiaW5kZXgiLCJtZWRpYUFzc2V0cyIsImxhc3RZIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl8iLCJpbm5lckhUTUwiLCJtZWRpYSIsImJvdW5kcyIsInRvcCIsImFsdCIsImN1cnJlbnRTcmMiLCJoZWlnaHQiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJsZW5ndGgiLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsInNvcnQiLCJhIiwiYiIsImFicyIsImkiLCJuZXdOYW1lIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFwcGVuZENoaWxkIiwibmV3SW1hZ2UiLCJzcmMiLCJjcmVhdGVUd2VldCIsInRvIiwiYXV0b0FscGhhIiwiaW5uZXJUZXh0IiwibWVkaWFBcnJheSIsIm5ld0xpbmsiLCJsb2NhdGlvbiIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJoaWRlIiwiZXZlbnQiLCJnYWxsZXJ5Qm91bmRzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZ2FsbGVyeVNpemVzIiwid2lkdGgiLCJpbm5lcldpZHRoIiwib25Ub3VjaERvd24iLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hVcCIsIm9uV2hlZWwiLCJwaXhlbFgiLCJwaXhlbFkiLCJ1cGRhdGUiLCJ1dGlscyIsImludGVycG9sYXRlIiwiZGlyZWN0aW9uIiwib2Zmc2V0WSIsInNjYWxlWSIsIm1lc2giLCJzY2FsZSIsIm11bHRpcGxpZXIiLCJkZXN0cm95IiwicmVtb3ZlQ2hpbGQiXSwic291cmNlUm9vdCI6IiJ9